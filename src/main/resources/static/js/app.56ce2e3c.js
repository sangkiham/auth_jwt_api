(function(){"use strict";var e={5353:function(e,t,n){var o=n(9242),r=n(3396),i=n(7139);const a={class:"demo"},s={class:"container"},l=(0,r._)("a",{style:{color:"#000","text-transform":"uppercase","font-size":"14px","font-weight":"400"},href:"https://github.com/yaminncco/vue-sidebar-menu"}," Github ",-1),c=(0,r._)("p",null,"A vue.js sidebar menu component",-1),u=["value"],d=(0,r._)("hr",{style:{margin:"50px 0px",border:"1px solid #e3e3e3"}},null,-1),p={key:0};function h(e,t,n,h,m,g){const f=(0,r.up)("router-view"),v=(0,r.up)("templete"),b=(0,r.up)("sidebar-menu");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(f,{name:"login"}),(0,r.wy)((0,r._)("div",{id:"demo",class:(0,i.C_)([{collapsed:m.collapsed},{onmobile:m.isOnMobile}])},[(0,r._)("div",a,[(0,r._)("div",s,[(0,r._)("h1",null,[h.logined?((0,r.wg)(),(0,r.j4)(v,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)("[Logined]")])),_:1})):(0,r.kq)("",!0),(0,r.Uk)(" vue-sidebar-menu "),l]),c,(0,r._)("div",null,[(0,r.Uk)(" Select theme: "),(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>m.selectedTheme=e)},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.themes,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{key:t,value:e.input},(0,i.zw)(e.name),9,u)))),128))],512),[[o.bM,m.selectedTheme]])]),d,(0,r.Wm)(f)]),h.logined?((0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(b,{menu:m.menu,collapsed:m.collapsed,theme:m.selectedTheme,"show-one-child":!0,"onUpdate:collapsed":g.onToggleCollapse,onItemClick:g.onItemClick},null,8,["menu","collapsed","theme","onUpdate:collapsed","onItemClick"])])):(0,r.kq)("",!0),m.isOnMobile&&!m.collapsed?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"sidebar-overlay",onClick:t[1]||(t[1]=e=>m.collapsed=!0)})):(0,r.kq)("",!0)])],2),[[o.F8,h.logined]])],64)}var m=n(65);const g={template:'<hr style="border-color: rgba(0, 0, 0, 0.1); margin: 20px;">'};var f={setup(){const e=(0,m.oR)(),t=(0,r.Fl)((()=>e.getters.getLogined));return{logined:t}},name:"App",data(){return{menu:[{header:"Getting Started",hiddenOnCollapse:!0},{href:"/",title:"Installation",icon:{class:"material-icons-sharp",text:"file_download"}},{href:"/basic-usage",title:"Basic Usage",icon:{class:"material-icons-sharp",text:"check_box"}},{header:"Usage",hiddenOnCollapse:!0},{href:"/props",title:"Props",icon:{class:"material-icons-sharp",text:"phonelink_setup"}},{href:"/events",title:"Events",icon:{class:"material-icons-sharp",text:"event"}},{href:"/styling",title:"Styling",icon:{class:"material-icons-sharp",text:"style"}},{component:g},{header:"Example",hiddenOnCollapse:!0},{href:"/disabled",title:"Disabled page",icon:{class:"material-icons-sharp",text:"search_off"},disabled:!0},{href:"/logout",title:"Logout",icon:{class:"material-icons-sharp",text:"badge"},badge:{text:"new",class:"vsm--badge_default"}},{title:"Dropdown Page",icon:{class:"material-icons-sharp",text:"download"},child:[{href:"/page/sub-page-1",title:"Sub Page 01",icon:{class:"material-icons-sharp",text:"auto_stories"}},{href:"/page/sub-page-2",title:"Sub Page 02",icon:{class:"material-icons-sharp",text:"auto_stories"}}]},{title:"Multiple Level",icon:{class:"material-icons-sharp",text:"multiple_stop"},child:[{title:"page"},{title:"Level 2 ",child:[{title:"page"},{title:"Page"}]},{title:"Page"},{title:"Another Level 2",child:[{title:"Level 3",child:[{title:"Page"},{title:"Page"}]}]}]}],collapsed:!1,themes:[{name:"Default theme",input:""},{name:"White theme",input:"white-theme"}],selectedTheme:"white-theme",isOnMobile:!1}},mounted(){this.onResize(),window.addEventListener("resize",this.onResize)},computed:{},watch:{},methods:{onToggleCollapse(e){console.log("onToggleCollapse"),console.log(e),this.collapsed=e},onItemClick(e,t,n){console.log("onItemClick"),console.log(e),console.log(t),console.log(n)},onResize(){window.innerWidth<=767?(this.isOnMobile=!0,this.collapsed=!0):(this.isOnMobile=!1,this.collapsed=!1)}}},v=n(89);const b=(0,v.Z)(f,[["render",h]]);var k=b,w=n(7093),y=n(5269),_=n.n(y),x=n(2415),O=(0,m.MT)({state:{logined:!1},getters:{getLogined(e){return e.logined}},mutations:{setLogined(e,t){e.logined=t}},actions:{},modules:{},plugins:[(0,x.Z)({})]}),C=n(2864),T=(n(9773),n(8957)),S=n(5132),L=n(8600);const P=(0,T.Rd)({components:S,directives:L}),V=(0,o.ri)(k);V.use(w.Z).use(_()).use(C.Z).use(P).use(O).mount("#app"),V.$cookies.config("1d")},7093:function(e,t,n){n.d(t,{Z:function(){return O}});var o=n(2483),r=n(5269),i=n.n(r),a=n(8944),s=n(3396);const l={class:"pa-10"},c=(0,s._)("h1",{style:{"text-align":"center"},class:"mb-5"},"Login",-1);function u(e,t,n,o,r,i){const a=(0,s.up)("VTextField"),u=(0,s.up)("VBtn"),d=(0,s.up)("VCard"),p=(0,s.up)("VContainer"),h=(0,s.up)("VMain"),m=(0,s.up)("VApp");return(0,s.wg)(),(0,s.j4)(m,{id:"inspire"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"blue-grey lighten-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{"max-width":"450px"},"fill-height":""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",l,[c,(0,s._)("form",null,[(0,s.Wm)(a,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),label:"ID","prepend-inner-icon":"mdi-account"},null,8,["modelValue"]),(0,s.Wm)(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),"prepend-inner-icon":"mdi-lock",type:"password",label:"Password"},null,8,["modelValue"]),(0,s.Wm)(u,{onClick:i.formLogin,color:"blue lighten-1 text-capitalize",depressed:"",large:"",block:"",dark:"",class:"mb-3"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Login ")])),_:1},8,["onClick"]),(0,s.Wm)(u,{color:"blue lighten-1 text-capitalize",depressed:"",large:"",block:"",dark:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Sign Up ")])),_:1})])])])),_:1})])),_:1})])),_:1})])),_:1})}n(560);var d=n(7718),p=n(5101),h=n(1489),m=n(3369),g=n(3140),f=n(165),v=n(65),b={setup(){const e=(0,v.oR)();return{store:e}},data:()=>({username:null,password:null}),components:{VApp:d.q,VBtn:p.T,VCard:h._,VContainer:m.K,VMain:g.O,VTextField:f.h},computed:{},methods:{async formLogin(){const e=await(0,a.B5)({username:this.username,password:this.password},this.store);console.log("login="+e),"200"==e?await this.$router.push("/"):((0,a.aF)(this.store),await this.$router.push("/login"))}}},k=n(89);const w=(0,k.Z)(b,[["render",u]]);var y=w;const _=[{path:"/",name:"Home",component:()=>n.e(177).then(n.bind(n,198))},{path:"/login",name:"login",components:{login:y},meta:{unauthorized:!0}},{path:"/logout",name:"logout",component:()=>n.e(177).then(n.bind(n,5612)),meta:{unauthorized:!0}},{path:"/basic-usage",name:"BasicUsage",component:()=>n.e(177).then(n.bind(n,1097))},{path:"/props",name:"Props",component:()=>n.e(177).then(n.bind(n,2947))},{path:"/events",name:"Events",component:()=>n.e(177).then(n.bind(n,6714))},{path:"/styling",name:"Styling",component:()=>n.e(177).then(n.bind(n,9048))}],x=(0,o.p7)({history:(0,o.PO)(),routes:_});x.beforeEach((async(e,t,n)=>(console.log("token="+JSON.stringify(i().get("token"))),console.log("refresh_token="+JSON.stringify(i().get("refresh_token"))),"login"===e.name&&(i().remove("token"),i().remove("refresh_token")),null===i().get("token")&&null!==i().get("refresh_token")&&(console.log("refreshToken"),await(0,a.g$)()),console.log("after refresh token="+JSON.stringify(i().get("token"))),console.log("if = "+(e.matched.some((e=>e.meta.unauthorized))||!e.matched.some((e=>e.meta.unauthorized))&&"login"===t.name||i().get("token"))),e.matched.some((e=>e.meta.unauthorized))||!e.matched.some((e=>e.meta.unauthorized))&&"login"===t.name||i().get("token")?(console.log("next"),n()):(alert("로그인 해주세요"),n("/login")))));var O=x},8944:function(e,t,n){n.d(t,{B5:function(){return s},aF:function(){return c},g$:function(){return l}});var o=n(1076),r=n(5269),i=n.n(r);o.Z.interceptors.request.use((async function(e){return e.headers.Authorization="Bearer "+i().get("token"),e.headers.REFRESH_TOKEN=i().get("refresh_token"),console.log(e),e}),(function(e){return Promise.reject(e)})),o.Z.interceptors.response.use((function(e){return e}),(async function(e){console.log("에러일 경우",e.config);const t=e.config;return 401===e.response.data.status&&void 0===t.retry?(t.retry=!0,console.log("토큰이 이상한 오류일 경우"),await l(),await(0,o.Z)(t)):Promise.reject(e)}));var a=o.Z;async function s(e,t){try{const n=await a.post("/api/authenticate",e);return console.log("response => "),console.log(n),i().set("token",n.data.token,"60s"),i().set("refresh_token",n.data.refreshToken,"1d"),a.defaults.headers["Authorization"]="Bearer "+i().get("token"),a.defaults.headers["REFRESH_TOKEN"]=i().get("refresh_token"),console.log("token="+i().get("token")),console.log("refresh_token="+i().get("refresh_token")),console.log("response.status = "+n.status),"200"==n.status&&(console.log("store = "+t),t.commit("setLogined",!0)),n.status}catch(n){return n.message}}async function l(){try{const e=await a.post("/api/refreshtoken");return i().set("token",e.data.token,"60s"),a.defaults.headers["Authorization"]="Bearer "+i().get("token"),e.data.token}catch(e){return e}}async function c(e){i().remove("token"),i().remove("refresh_token"),console.log("token="+i().get("token")),console.log("refresh_token="+i().get("refresh_token")),e.commit("setLogined",!1),console.log("Logout Completed")}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],i=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/home.1ebad587.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="SideBarMenu:";n.l=function(o,r,i,a){if(e[o])e[o].push(r);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[r];var p=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=i);var a=n.p+n.u(t),s=new Error,l=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}};n.l(a,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],s=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var u=l(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self["webpackChunkSideBarMenu"]=self["webpackChunkSideBarMenu"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5353)}));o=n.O(o)})();
//# sourceMappingURL=app.56ce2e3c.js.map